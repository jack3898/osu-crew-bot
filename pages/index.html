<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>OAuth Success</title>
    <script type="module" crossorigin>(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))c(e);new MutationObserver(e=>{for(const t of e)if(t.type==="childList")for(const r of t.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&c(r)}).observe(document,{childList:!0,subtree:!0});function s(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?t.credentials="include":e.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function c(e){if(e.ep)return;e.ep=!0;const t=s(e);fetch(e.href,t)}})();const i=new URLSearchParams(window.location.search),d=i.get("code"),a=i.get("state");document.getElementById("oauth-code").textContent=`${btoa(d)}:${btoa(a)}`;window.addEventListener("load",()=>{window.copyCodeToClipboard=function(){const n=document.getElementById("oauth-code").textContent,o=document.getElementById("oauth-code-button");navigator.clipboard.writeText(n),o.textContent="âœ… copied!",setTimeout(()=>{o.textContent="ðŸ“‹ copy"},5e3)}});
</script>
    <style rel="stylesheet" crossorigin>.my-1{margin-top:.25rem;margin-bottom:.25rem}.block{display:block}.w-full{width:100%}.max-w-96{max-width:24rem}.cursor-pointer{cursor:pointer}.resize-none{resize:none}.rounded{border-radius:.25rem}.border-none{border-style:none}.bg-zinc-700{--tw-bg-opacity: 1;background-color:rgb(63 63 70 / var(--tw-bg-opacity))}.bg-zinc-800{--tw-bg-opacity: 1;background-color:rgb(39 39 42 / var(--tw-bg-opacity))}.p-1{padding:.25rem}.px-4{padding-left:1rem;padding-right:1rem}.font-sans{font-family:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji"}.text-4xl{font-size:2.25rem;line-height:2.5rem}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity))}
</style>
  </head>
  <body class="px-4 bg-zinc-800 text-white font-sans">
    <h1 class="text-4xl">You're almost done! Just follow these next steps:</h1>
    <ol>
      <li>
        Copy this magic code: <br />
        <textarea
          id="oauth-code"
          class="block p-1 rounded bg-zinc-700 text-white border-none max-w-96 w-full resize-none my-1"
          rows="6"
          disabled
        ></textarea>
        <button
          type="button"
          aria-label="Copy code to clipboard"
          onclick="copyCodeToClipboard()"
          id="oauth-code-button"
          class="rounded border-none p-1 bg-zinc-700 text-white cursor-pointer my-1"
        >
          ðŸ“‹ copy
        </button>
      </li>
      <li>
        Go back to Discord where the bot is used and use the
        <code>/code</code> slash command pasting in your code.
      </li>
      <li>Profit.</li>
    </ol>
    <p>
      <em>
        Once you have used the code, the bot forgets who you are. So you may
        remove the app from your Osu! account if you like.
      </em>
    </p>
    <h2>Why do you have to do this?</h2>
    <p>
      If you know anything about OAuth 2.0, this saves creating a web server to
      host a callback URL. Very cheap, but does the trick.
    </p>
    <p>
      Security is important, so if you have any concerns, the code can only:
    </p>
    <ul>
      <li>Work for up to 5 minutes</li>
      <li>
        Be used solely by this application, Osu! itself will reject it from
        another app
      </li>
      <li>
        Work only with YOUR Discord account, the bot will reject stolen codes
      </li>
      <li>Be used once and once only</li>
    </ul>
  </body>
</html>
